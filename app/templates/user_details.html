{% extends 'layout.html' %}

{% block content %}
{% with user = current_user %}

<div class='deets-username'>
    <p>My Progress</p>
</div>

<div class='deets-prog-grid'>
    <div class='deets-fill'>
        <h4>Your progress in fill in the blanks is:</h4>

        <ul>
            {% for progtrack in user.progtrack %}
                {% if progtrack.fill_progress %}    
                    <li><strong>Sublist No. {{ progtrack.sublist }}</strong> -  {{ ((progtrack.fill_progress|json_loads|length / 180) * 100)|round(2) }}% ({{ progtrack.fill_progress|json_loads|length }} words out of 180)</li>
                {% endif %}
            {% endfor %}
        </ul>
    </div>

    <div class='deets-form'>
        <h4>Your progress in change the form is:</h4>

        <ul>
            {% for progtrack in user.progtrack %}
                {% if progtrack.form_progress %}    
                    <li><strong>Sublist No. {{ progtrack.sublist }}</strong> -  {{ ((progtrack.form_progress|json_loads|length / 180) * 100)|round(2) }}% ({{ progtrack.form_progress|json_loads|length }} words out of 180)</li>
                {% endif %}
            {% endfor %}
        </ul>
    </div>

    <div class='deets-match'>
        <h4>Your progress in match the words is:</h4>

        <ul>
            {% for progtrack in user.progtrack %}
                {% if progtrack.match_progress %}    
                    <li><strong>Sublist No. {{ progtrack.sublist }}</strong> -  {{ ((progtrack.match_progress|json_loads|length / 60) * 100)|round(2) }}% ({{ progtrack.match_progress|json_loads|length }} words out of 60)</li>
                {% endif %}
            {% endfor %}
        </ul>
    </div>

    <div class='deets-qna'>
        <h4>Your progress in question and answer is:</h4>

        <ul>
            {% for progtrack in user.progtrack %}
                {% if progtrack.qna_progress %}    
                    <li><strong>Sublist No. {{ progtrack.sublist }}</strong> -  {{ ((progtrack.qna_progress|json_loads|length / 60) * 100)|round(2) }}% ({{ progtrack.qna_progress|json_loads|length }} words out of 60)</li>
                {% endif %}
            {% endfor %}
        </ul>
    </div>

    <h4>Your progress in quiz is:</h4>

    <ul>
        {% for progtrack in user.progtrack %}
            {% if progtrack.quiz_progress %}    
                <li><strong>Sublist No. {{ progtrack.sublist }}</strong> -  {{ ((progtrack.quiz_progress|json_loads|length / 60) * 100)|round(2) }}% ({{ progtrack.quiz_progress|json_loads|length }} words out of 60)</li>
            {% endif %}
        {% endfor %}
    </ul>
</div>

{% endwith %}
{% endblock %}