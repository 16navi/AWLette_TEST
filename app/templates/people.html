{% extends 'classroom_layout.html' %}
{% block classroom %}

<script>
    const nav = document.getElementById('people');
    nav.removeAttribute('href');

    nav.style.borderBottom = '2px solid #704d4a';

    function searchFor(searchbar, students) {
        searchbar.addEventListener('keyup', function() {
            students.forEach(function(students) {
                if (students.id.toLowerCase().includes(searchbar.value) == true) {
                    students.style.display = '';
                } else if (students.id.toLowerCase().includes(searchbar.value) == false) {
                    students.style.display = 'none';
                };
            });
        });
    };
</script>

<h3>People inside this class:</h3>
<p>Teacher: {{ teacher }}</p>

<h4>Student Progress</h4>


{% if current_user.is_teacher == 1 %}
<input id='search' form='none' type='text' placeholder='Search for a student.'><br><br>
{% endif %}

<p>Students:</p>
<ul>
    {% for student in classroom.student %}
        <li class='students' id='{{ student }}'>
            {% if current_user.is_teacher == 1 %}
            <a href='{{ url_for('student_progress', classroom_id=classroom.id ,users_id=student.id ) }}'>
                {{ student }}
            </a>
            {% else %}
            {{ student }}
            {% endif %}
        </li>
    {% endfor %}
</ul>

<script>
    searchFor(document.getElementById('search'),
              document.querySelectorAll('.students'))
</script>

{% endblock %}